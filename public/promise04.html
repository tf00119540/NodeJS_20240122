<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        function myPromise(str){
            // 使 rnd 得到0.5秒~1.5秒之間隨機數 
            const rnd = 500 + Math.floor(Math.random()*1000);

            return new Promise((resolve, reject) => {
                setTimeout(()=>{
                    const r = str + ":" + rnd;
                    console.log(r);
                    resolve(r);
                }, rnd)
            });
        }

        const ar = [
            myPromise('a').then(r=>{console.log('----',r)}),
            myPromise('b'),
            myPromise('c'),
            myPromise('d'),
        ]

        // 原本 myPromise('a')將回傳值給.then 但裡面並沒有回傳值導致a的部分為 Promise.all() 的部分array[0] 得部分為undefined
        Promise.all(ar).then(r => {
            console.log(r)
        })

        

    </script>
</body>
</html>